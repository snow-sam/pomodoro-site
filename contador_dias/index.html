<div class="moments">
    <div class="item">
        <div class=progress-container>
            <progress id="year" max="100" value="0"></progress>
        </div>
        <label for="year"></label>
    </div>
    <div class="item">
        <div class=progress-container>
            <progress id="week" max="100" value="0"></progress>
        </div>
        <label for="week"></label>
    </div>
    <div class="item">
        <div class=progress-container>
            <progress id="month" max="100" value="0"></progress>
        </div>
        <label for="month"></label>
    </div>
</div>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
    * {
        font-family: 'Poppins', sans-serif;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        color: white;
    }

    :root {
        --background-col: #191919;
    }
    
    body {
        width: 100%;
        min-height: 100vh;
        min-height: -webkit-fill-available;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: var(--background-col);
    }

    .moments {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: min(400px, 100%);
        border: 1px solid white;
        border-radius: 5px;
        padding: 1rem;
        gap: 0.5rem;
    }

    .item {
        width: 100%;
        display: grid;
        grid-template-columns: 3fr 1fr;
        grid-row: 1fr;
        justify-content: center;
        align-items: center;
        gap: 1rem;
        font-size: 0.75rem;
    }
      
    .progress-container {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: end;
        align-items: center;
    }

    progress {
        width: 100%; 
        border: 1px solid var(--background-col);
        outline: 1px solid white;
        border-radius: 0px; 
        height: 0.5rem;
        margin-left: -11.5%;
        box-shadow: 1px 1px 4px rgba( 0, 0, 0, 0.2 );
    }
      
    progress::-webkit-progress-bar {
        background-color: rgba(255,255,255,0.1);
        border-radius: 0px;
    }
      
    progress::-webkit-progress-value {
          background-color: white;
    }
</style>
<script>
    function showWeek(){
        barra = document.getElementById("week")
        let label = document.querySelector("label[for='week']")
        let data = new Date(); 
        let day = data.getDay()
        let progress = (day / 7) * 100
        barra.value = Math.round(progress)
        label.textContent = `Week: ${day} / 7` 
    }
    
    function showYear() {
        barra = document.getElementById('year')
        let label = document.querySelector("label[for='year']")
        let now = new Date();
        let year = now.getFullYear();
        let startOfYear = new Date(year, 0, 1); // Primeiro dia do ano
        let endOfYear = new Date(year, 11, 31); // Último dia do ano
        let startOfDay = new Date(year, now.getMonth(), now.getDate()); // Início do dia atual
        let endOfDay = new Date(year, now.getMonth(), now.getDate() + 1); // Fim do dia atual
      
        let totalDaysInYear = Math.floor((endOfYear - startOfYear) / (24 * 60 * 60 * 1000)) + 1; // Total de dias no ano
        let dayOfYear = Math.floor((startOfDay - startOfYear) / (24 * 60 * 60 * 1000)) + 1; // Dia atual no ano
        let percentage = (dayOfYear / totalDaysInYear) * 100;
        barra.value = Math.round(percentage)
        label.textContent = `Year: ${dayOfYear} / ${totalDaysInYear}`
        return percentage;
    }

    function showMonth() {
        let barra = document.getElementById('month')
        let label = document.querySelector("label[for='month']")
        let now = new Date();
        let year = now.getFullYear();
        let month = now.getMonth();
        let startOfMonth = new Date(year, month, 1); // Primeiro dia do mês
        let startOfNextMonth = new Date(year, month + 1, 1); // Primeiro dia do próximo mês
      
        let totalDaysInMonth = Math.floor((startOfNextMonth - startOfMonth) / (24 * 60 * 60 * 1000)); // Total de dias no mês
        let dayOfMonth = now.getDate(); // Dia do mês atual
        let percentage = (dayOfMonth / totalDaysInMonth) * 100;
        barra.value = Math.round(percentage)
        label.textContent = `Month: ${dayOfMonth} / ${totalDaysInMonth}`;
    }

    showWeek()
    showMonth()
    showYear()
      
</script>